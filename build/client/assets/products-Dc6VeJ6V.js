import{w as U}from"./with-props-DEE0GO7A.js";import{r as s,a as Y,j as i}from"./chunk-D4RADZKF-DaSNxZfm.js";import{g as G}from"./utils-CNuFmlBv.js";import{B as w}from"./link-bQ4_br5V.js";import{s as J}from"./index-x0QAANdl.js";import{I as K,R as Z}from"./PlusOutlined-B6pnUuBs.js";import{T as ee}from"./index-C4YvZD7R.js";import{S as te}from"./index-BJhI9T6T.js";import{R as T}from"./ExclamationCircleFilled-BBVgPxRh.js";import{g as oe,d as k,l as ne,B as _,c as re,i as N,f as se,o as ae}from"./button-B_-uB0p2.js";import{u as ie}from"./index-uCDk3Dwg.js";import{g as $,a as le,P as ce}from"./index-D8QiLRAd.js";import{A as me}from"./ActionButton-B3979FWd.js";import{u as pe}from"./pickAttrs-0mC0MTC4.js";import{Q as de}from"./QuestionCircleOutlined-CkfPyHQh.js";import{I as ue}from"./AntdIcon-D0-nQjfA.js";import{C as fe}from"./index-BfByirc8.js";import{F as ge}from"./Table-iXZT6ZR3.js";import{T as xe}from"./index-DUFb1Y1K.js";import"./CloseCircleFilled-CWl1RwBe.js";import"./InfoCircleFilled-D-3399yE.js";import"./index-B7NgtD67.js";import"./ContextIsolator-Bixc0f3v.js";import"./CloseOutlined-yNYFdaZx.js";import"./EyeOutlined-DuaSqq6v.js";import"./index-CcOXC9M3.js";import"./index-BDDxPlyk.js";import"./fade-uAF_9O56.js";import"./addEventListener-C4a4rut2.js";import"./LeftOutlined-DWSwulV9.js";import"./RightOutlined-BcmokP1E.js";import"./useClosable-Fbrkv2Hs.js";import"./extendsObject-C6pccdOq.js";import"./Skeleton-BJ3peajE.js";import"./EllipsisOutlined-35K-TJhe.js";import"./Overflow-Byk-11uQ.js";import"./getAllowClear-5vxR2N0h.js";import"./styleChecker-BgJ1QV5m.js";import"./index-B-uu2mgo.js";import"./PurePanel-BYCH4EcD.js";import"./move-ynh_U9QL.js";import"./CheckOutlined-DvuVAbKD.js";import"./DownOutlined-Bi0ruqli.js";import"./SearchOutlined-BeNzckjZ.js";import"./index-C01d6hDI.js";import"./index-C5DHK3f-.js";import"./useBreakpoint-CuMT98fn.js";import"./collapse-BbEVqHco.js";import"./scrollTo-Cx9Ki3Mk.js";import"./Pagination-LfsAsTb5.js";import"./index-CH2Uf8NX.js";import"./Input-BajgXS1c.js";import"./TextArea-COy2yrfm.js";const ye=e=>{const{componentCls:o,iconCls:r,antCls:t,zIndexPopup:n,colorText:p,colorWarning:a,marginXXS:l,marginXS:d,fontSize:x,fontWeightStrong:v,colorTextHeading:y}=e;return{[o]:{zIndex:n,[`&${t}-popover`]:{fontSize:x},[`${o}-message`]:{marginBottom:d,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${o}-message-icon ${r}`]:{color:a,fontSize:x,lineHeight:1,marginInlineEnd:d},[`${o}-title`]:{fontWeight:v,color:y,"&:only-child":{fontWeight:"normal"}},[`${o}-description`]:{marginTop:l,color:p}},[`${o}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:d}}}}},ve=e=>{const{zIndexPopupBase:o}=e;return{zIndexPopup:o+60}},z=oe("Popconfirm",e=>ye(e),ve,{resetStyle:!1});var Ce=function(e,o){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const B=e=>{const{prefixCls:o,okButtonProps:r,cancelButtonProps:t,title:n,description:p,cancelText:a,okText:l,okType:d="primary",icon:x=s.createElement(T,null),showCancel:v=!0,close:y,onConfirm:C,onCancel:O,onPopupClick:u}=e,{getPrefixCls:f}=s.useContext(k),[g]=pe("Popconfirm",ne.Popconfirm),b=$(n),h=$(p);return s.createElement("div",{className:`${o}-inner-content`,onClick:u},s.createElement("div",{className:`${o}-message`},x&&s.createElement("span",{className:`${o}-message-icon`},x),s.createElement("div",{className:`${o}-message-text`},b&&s.createElement("div",{className:`${o}-title`},b),h&&s.createElement("div",{className:`${o}-description`},h))),s.createElement("div",{className:`${o}-buttons`},v&&s.createElement(_,Object.assign({onClick:O,size:"small"},t),a||(g==null?void 0:g.cancelText)),s.createElement(me,{buttonProps:Object.assign(Object.assign({size:"small"},re(d)),r),actionFn:C,close:y,prefixCls:f("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},l||(g==null?void 0:g.okText))))},be=e=>{const{prefixCls:o,placement:r,className:t,style:n}=e,p=Ce(e,["prefixCls","placement","className","style"]),{getPrefixCls:a}=s.useContext(k),l=a("popconfirm",o),[d]=z(l);return d(s.createElement(le,{placement:r,className:N(l,t),style:n,content:s.createElement(B,Object.assign({prefixCls:l},p))}))};var he=function(e,o){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const Oe=s.forwardRef((e,o)=>{var r,t;const{prefixCls:n,placement:p="top",trigger:a="click",okType:l="primary",icon:d=s.createElement(T,null),children:x,overlayClassName:v,onOpenChange:y,onVisibleChange:C,overlayStyle:O,styles:u,classNames:f}=e,g=he(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange","overlayStyle","styles","classNames"]),{getPrefixCls:b,className:h,style:V,classNames:E,styles:I}=se("popconfirm"),[A,D]=ie(!1,{value:(r=e.open)!==null&&r!==void 0?r:e.visible,defaultValue:(t=e.defaultOpen)!==null&&t!==void 0?t:e.defaultVisible}),j=(c,m)=>{D(c,!0),C==null||C(c),y==null||y(c,m)},F=c=>{j(!1,c)},W=c=>{var m;return(m=e.onConfirm)===null||m===void 0?void 0:m.call(void 0,c)},L=c=>{var m;j(!1,c),(m=e.onCancel)===null||m===void 0||m.call(void 0,c)},M=(c,m)=>{const{disabled:q=!1}=e;q||j(c,m)},P=b("popconfirm",n),H=N(P,h,v,E.root,f==null?void 0:f.root),Q=N(E.body,f==null?void 0:f.body),[X]=z(P);return X(s.createElement(ce,Object.assign({},ae(g,["title"]),{trigger:a,placement:p,onOpenChange:M,open:A,ref:o,classNames:{root:H,body:Q},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},I.root),V),O),u==null?void 0:u.root),body:Object.assign(Object.assign({},I.body),u==null?void 0:u.body)},content:s.createElement(B,Object.assign({okType:l,icon:d},e,{prefixCls:P,close:F,onConfirm:W,onCancel:L})),"data-popover-inject":!0}),x))}),R=Oe;R._InternalPanelDoNotUseOrYouWillBeFired=be;function S(){return S=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var r=arguments[o];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},S.apply(this,arguments)}const je=(e,o)=>s.createElement(ue,S({},e,{ref:o,icon:de})),Pe=s.forwardRef(je),Pt=U(function({loaderData:{products:o}}){const[r,t]=J.useMessage(),n=Y(),p=s.useMemo(()=>[{title:"Image",dataIndex:"images",width:60,render:a=>i.jsx(K,{src:G(a[0]),alt:"",width:20})},{title:"Name",dataIndex:"name",width:300},{title:"Price",dataIndex:"price",width:100,render:a=>`$${a}`},{title:"Stock",dataIndex:"stock",width:100,render:a=>a>0?a:i.jsx(ee,{color:"red",children:"out of stock"})},{title:"Discount",dataIndex:"discount",width:100,render:a=>i.jsxs("span",{children:[a,"%"]})},{title:"Action",width:150,render:(a,l)=>i.jsxs(te,{children:[i.jsx(w,{to:`/dashboard/products/${l.id}/edit`,size:"small",type:"primary",children:"Edit"}),i.jsx(R,{title:"Delete Product",description:"Are you sure you want to permanently delete this product?",icon:i.jsx(Pe,{style:{color:"red"}}),onConfirm:async()=>n.submit({productId:l.id},{method:"DELETE"}),children:i.jsx(_,{size:"small",danger:!0,children:"Delete"})})]})}],[]);return s.useEffect(()=>{var a,l;(a=n.data)!=null&&a.message&&r.success(n.data.message),(l=n.data)!=null&&l.error&&r.error(n.data.error)},[n.data]),i.jsxs(i.Fragment,{children:[t,i.jsx(fe,{title:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(xe.Title,{level:4,className:"m-0!",children:"Products"}),i.jsx(w,{to:"/dashboard/products/create",icon:i.jsx(Z,{}),type:"primary",children:"Add Product"})]}),children:i.jsx(ge,{loading:n.state!="idle",size:"small",scroll:{x:1e3},id:"id",dataSource:o??[],columns:p})})]})});export{Pt as default};
