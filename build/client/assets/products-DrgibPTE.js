import{w as U}from"./with-props-zgZ4Swg7.js";import{r as s,a as Y,j as i}from"./chunk-D4RADZKF-DAz_vGcL.js";import{g as G}from"./utils-CNuFmlBv.js";import{B as w}from"./link-D7g_RGP4.js";import{s as J}from"./index-DXFem7WI.js";import{I as K}from"./index-B_opkYhe.js";import{T as Z}from"./index-Bcho9uyj.js";import{S as ee}from"./index-CItnkCRU.js";import{R as T}from"./ExclamationCircleFilled-W6vk6RFQ.js";import{g as te,d as k,l as oe,B as _,c as ne,i as N,f as re,o as se}from"./button-BHijcmC7.js";import{u as ae}from"./index-BAed6j4S.js";import{g as $,a as ie,P as le}from"./index-D9CIBdyn.js";import{A as ce}from"./ActionButton-Lb2x-VjR.js";import{u as me}from"./pickAttrs-BDmP-lu7.js";import{Q as pe}from"./QuestionCircleOutlined-CkfPyHQh.js";import{I as de}from"./AntdIcon-BqQjB-7o.js";import{C as ue}from"./index-DBVo6aQJ.js";import{F as fe}from"./Table-BbDh7AMc.js";import{T as ge}from"./index-C9jnjFYw.js";import{R as xe}from"./PlusOutlined-DUPhCR4c.js";import"./CloseCircleFilled-BB15cPNT.js";import"./InfoCircleFilled-Bmgfd1T2.js";import"./index-D4ZOqxWl.js";import"./ContextIsolator-oaooBrlp.js";import"./CloseOutlined-Dy2HrFbl.js";import"./EyeOutlined-6hR7CDcx.js";import"./index-B_W-bSKP.js";import"./index-blh_t3tb.js";import"./fade-D5ET0lYX.js";import"./addEventListener-BzkQ-zOx.js";import"./LeftOutlined-XQszqjzV.js";import"./RightOutlined-ChWhwkp3.js";import"./useClosable-BIv2YQC7.js";import"./extendsObject-C6pccdOq.js";import"./Skeleton-c8QWDCRi.js";import"./EllipsisOutlined-CieEX8qC.js";import"./Overflow-CSGCzpcK.js";import"./getAllowClear-RJcteg7o.js";import"./styleChecker-BoZ39Bhw.js";import"./index-lDD27JVI.js";import"./PurePanel-DQWTWKaP.js";import"./move-B7plCz5U.js";import"./DownOutlined-DatLSNvX.js";import"./SearchOutlined-d4YbfynM.js";import"./index-DThF2Jli.js";import"./index-CPSPtwXn.js";import"./useBreakpoint-B7m96Ekk.js";import"./collapse-BbEVqHco.js";import"./scrollTo-D2JECFlI.js";import"./Pagination-sp4ziX3s.js";import"./index-BMw-dO_3.js";import"./Input-DsPYekik.js";import"./TextArea-DuDk0je7.js";const ye=e=>{const{componentCls:o,iconCls:r,antCls:t,zIndexPopup:n,colorText:p,colorWarning:a,marginXXS:l,marginXS:d,fontSize:x,fontWeightStrong:v,colorTextHeading:y}=e;return{[o]:{zIndex:n,[`&${t}-popover`]:{fontSize:x},[`${o}-message`]:{marginBottom:d,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${o}-message-icon ${r}`]:{color:a,fontSize:x,lineHeight:1,marginInlineEnd:d},[`${o}-title`]:{fontWeight:v,color:y,"&:only-child":{fontWeight:"normal"}},[`${o}-description`]:{marginTop:l,color:p}},[`${o}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:d}}}}},ve=e=>{const{zIndexPopupBase:o}=e;return{zIndexPopup:o+60}},z=te("Popconfirm",e=>ye(e),ve,{resetStyle:!1});var Ce=function(e,o){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const B=e=>{const{prefixCls:o,okButtonProps:r,cancelButtonProps:t,title:n,description:p,cancelText:a,okText:l,okType:d="primary",icon:x=s.createElement(T,null),showCancel:v=!0,close:y,onConfirm:C,onCancel:O,onPopupClick:u}=e,{getPrefixCls:f}=s.useContext(k),[g]=me("Popconfirm",oe.Popconfirm),b=$(n),h=$(p);return s.createElement("div",{className:`${o}-inner-content`,onClick:u},s.createElement("div",{className:`${o}-message`},x&&s.createElement("span",{className:`${o}-message-icon`},x),s.createElement("div",{className:`${o}-message-text`},b&&s.createElement("div",{className:`${o}-title`},b),h&&s.createElement("div",{className:`${o}-description`},h))),s.createElement("div",{className:`${o}-buttons`},v&&s.createElement(_,Object.assign({onClick:O,size:"small"},t),a||(g==null?void 0:g.cancelText)),s.createElement(ce,{buttonProps:Object.assign(Object.assign({size:"small"},ne(d)),r),actionFn:C,close:y,prefixCls:f("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},l||(g==null?void 0:g.okText))))},be=e=>{const{prefixCls:o,placement:r,className:t,style:n}=e,p=Ce(e,["prefixCls","placement","className","style"]),{getPrefixCls:a}=s.useContext(k),l=a("popconfirm",o),[d]=z(l);return d(s.createElement(ie,{placement:r,className:N(l,t),style:n,content:s.createElement(B,Object.assign({prefixCls:l},p))}))};var he=function(e,o){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const Oe=s.forwardRef((e,o)=>{var r,t;const{prefixCls:n,placement:p="top",trigger:a="click",okType:l="primary",icon:d=s.createElement(T,null),children:x,overlayClassName:v,onOpenChange:y,onVisibleChange:C,overlayStyle:O,styles:u,classNames:f}=e,g=he(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange","overlayStyle","styles","classNames"]),{getPrefixCls:b,className:h,style:V,classNames:E,styles:I}=re("popconfirm"),[A,D]=ae(!1,{value:(r=e.open)!==null&&r!==void 0?r:e.visible,defaultValue:(t=e.defaultOpen)!==null&&t!==void 0?t:e.defaultVisible}),j=(c,m)=>{D(c,!0),C==null||C(c),y==null||y(c,m)},F=c=>{j(!1,c)},W=c=>{var m;return(m=e.onConfirm)===null||m===void 0?void 0:m.call(void 0,c)},L=c=>{var m;j(!1,c),(m=e.onCancel)===null||m===void 0||m.call(void 0,c)},M=(c,m)=>{const{disabled:q=!1}=e;q||j(c,m)},P=b("popconfirm",n),H=N(P,h,v,E.root,f==null?void 0:f.root),Q=N(E.body,f==null?void 0:f.body),[X]=z(P);return X(s.createElement(le,Object.assign({},se(g,["title"]),{trigger:a,placement:p,onOpenChange:M,open:A,ref:o,classNames:{root:H,body:Q},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},I.root),V),O),u==null?void 0:u.root),body:Object.assign(Object.assign({},I.body),u==null?void 0:u.body)},content:s.createElement(B,Object.assign({okType:l,icon:d},e,{prefixCls:P,close:F,onConfirm:W,onCancel:L})),"data-popover-inject":!0}),x))}),R=Oe;R._InternalPanelDoNotUseOrYouWillBeFired=be;function S(){return S=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var r=arguments[o];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},S.apply(this,arguments)}const je=(e,o)=>s.createElement(de,S({},e,{ref:o,icon:pe})),Pe=s.forwardRef(je),Pt=U(function({loaderData:{products:o}}){const[r,t]=J.useMessage(),n=Y(),p=s.useMemo(()=>[{title:"Image",dataIndex:"images",width:60,render:a=>i.jsx(K,{src:G(a[0]),alt:"",width:20})},{title:"Name",dataIndex:"name",width:300},{title:"Price",dataIndex:"price",width:100,render:a=>`$${a}`},{title:"Stock",dataIndex:"stock",width:100,render:a=>a>0?a:i.jsx(Z,{color:"red",children:"out of stock"})},{title:"Discount",dataIndex:"discount",width:100,render:a=>i.jsxs("span",{children:[a,"%"]})},{title:"Action",width:150,render:(a,l)=>i.jsxs(ee,{children:[i.jsx(w,{to:`/dashboard/products/${l.id}/edit`,size:"small",type:"primary",children:"Edit"}),i.jsx(R,{title:"Delete Product",description:"Are you sure you want to permanently delete this product?",icon:i.jsx(Pe,{style:{color:"red"}}),onConfirm:async()=>n.submit({productId:l.id},{method:"DELETE"}),children:i.jsx(_,{size:"small",danger:!0,children:"Delete"})})]})}],[]);return s.useEffect(()=>{var a,l;(a=n.data)!=null&&a.message&&r.success(n.data.message),(l=n.data)!=null&&l.error&&r.error(n.data.error)},[n.data]),i.jsxs(i.Fragment,{children:[t,i.jsx(ue,{title:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ge.Title,{level:4,className:"m-0!",children:"Products"}),i.jsx(w,{to:"/dashboard/products/create",icon:i.jsx(xe,{}),type:"primary",children:"Add Product"})]}),children:i.jsx(fe,{loading:n.state!="idle",size:"small",scroll:{x:1e3},id:"id",dataSource:o??[],columns:p})})]})});export{Pt as default};
