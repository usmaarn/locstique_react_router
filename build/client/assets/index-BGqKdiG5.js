import{n as T,b as Pe,B as te,c as $e,a4 as ne,a5 as je,d as z,i as N,H as Te,e as Z,Y as we,C as oe,A as Ne,a3 as Se,a2 as Ie,l as ke}from"./button-psUsNra1.js";import{r as o,R as x}from"./chunk-D4RADZKF-DaSNxZfm.js";import{R as Me,a as Re}from"./ExclamationCircleFilled-Dlq3ezWw.js";import{R as Be}from"./CloseCircleFilled-ByM770YT.js";import{R as Fe}from"./InfoCircleFilled-Df3u48DE.js";import{u as Le,f as ze,C as Ae,z as He,g as F,e as We}from"./ContextIsolator-uw1dAu9_.js";import{A as le}from"./ActionButton-BVYySoIP.js";import{R as se}from"./CloseOutlined-CH9td4m-.js";import{u as De,D as Ve,p as _e,a as qe}from"./index-5Msg5uOr.js";import{u as Qe,p as G}from"./useClosable-C_rwWNpt.js";import{S as Xe}from"./Skeleton-Cc7GcUfO.js";import{u as Ze}from"./context-DKxS3ldY.js";import{u as A}from"./pickAttrs-sZVM6kZ0.js";function Ge(){const[e,n]=o.useState([]),a=o.useCallback(t=>(n(s=>[].concat(T(s),[t])),()=>{n(s=>s.filter(i=>i!==t))}),[]);return[e,a]}const k=x.createContext({}),{Provider:ae}=k,Y=()=>{const{autoFocusButton:e,cancelButtonProps:n,cancelTextLocale:a,isSilent:t,mergedOkCancel:s,rootPrefixCls:i,close:C,onCancel:c,onConfirm:r}=o.useContext(k);return s?x.createElement(le,{isSilent:t,actionFn:c,close:function(){C==null||C.apply(void 0,arguments),r==null||r(!1)},autoFocus:e==="cancel",buttonProps:n,prefixCls:`${i}-btn`},a):null},U=()=>{const{autoFocusButton:e,close:n,isSilent:a,okButtonProps:t,rootPrefixCls:s,okTextLocale:i,okType:C,onConfirm:c,onOk:r}=o.useContext(k);return x.createElement(le,{isSilent:a,type:C||"primary",actionFn:r,close:function(){n==null||n.apply(void 0,arguments),c==null||c(!0)},autoFocus:e==="ok",buttonProps:t,prefixCls:`${s}-btn`},i)},Ye=()=>Pe()&&window.document.documentElement,J=()=>{const{cancelButtonProps:e,cancelTextLocale:n,onCancel:a}=o.useContext(k);return x.createElement(te,Object.assign({onClick:a},e),n)},K=()=>{const{confirmLoading:e,okButtonProps:n,okType:a,okTextLocale:t,onOk:s}=o.useContext(k);return x.createElement(te,Object.assign({},$e(a),{loading:e,onClick:s},n),t)};function Ue(e,n){return x.createElement("span",{className:`${e}-close-x`},n||x.createElement(se,{className:`${e}-close-icon`}))}const Je=e=>{const{okText:n,okType:a="primary",cancelText:t,confirmLoading:s,onOk:i,onCancel:C,okButtonProps:c,cancelButtonProps:r,footer:v}=e,[l]=A("Modal",ne()),d=n||(l==null?void 0:l.okText),m=t||(l==null?void 0:l.cancelText),g={confirmLoading:s,okButtonProps:c,cancelButtonProps:r,okTextLocale:d,cancelTextLocale:m,okType:a,onOk:i,onCancel:C},O=x.useMemo(()=>g,T(Object.values(g)));let u;return typeof v=="function"||typeof v>"u"?(u=x.createElement(x.Fragment,null,x.createElement(J,null),x.createElement(K,null)),typeof v=="function"&&(u=v(u,{OkBtn:K,CancelBtn:J})),u=x.createElement(ae,{value:O},u)):u=v,x.createElement(je,{disabled:!1},u)};var Ke=function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(a[t[s]]=e[t[s]]);return a};let L;const et=e=>{L={x:e.pageX,y:e.pageY},setTimeout(()=>{L=null},100)};Ye()&&document.documentElement.addEventListener("click",et,!0);const tt=e=>{const{prefixCls:n,className:a,rootClassName:t,open:s,wrapClassName:i,centered:C,getContainer:c,focusTriggerAfterClose:r=!0,style:v,visible:l,width:d=520,footer:m,classNames:g,styles:O,children:u,loading:f,confirmLoading:b,zIndex:p,mousePosition:h,onOk:P,onCancel:E,destroyOnHidden:w,destroyOnClose:M}=e,S=Ke(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel","destroyOnHidden","destroyOnClose"]),{getPopupContainer:ue,getPrefixCls:H,direction:de,modal:y}=o.useContext(z),W=j=>{b||E==null||E(j)},me=j=>{P==null||P(j)},$=H("modal",n),D=H(),V=Le($),[fe,_,Ce]=De($,V),ge=N(i,{[`${$}-centered`]:C??(y==null?void 0:y.centered),[`${$}-wrap-rtl`]:de==="rtl"}),ve=m!==null&&!f?o.createElement(Je,Object.assign({},e,{onOk:me,onCancel:W})):null,[q,Q,be,pe]=Qe(G(e),G(y),{closable:!0,closeIcon:o.createElement(se,{className:`${$}-close-icon`}),closeIconRender:j=>Ue($,j)}),xe=Ze(`.${$}-content`),[ye,Oe]=ze("Modal",p),[he,R]=o.useMemo(()=>d&&typeof d=="object"?[void 0,d]:[d,void 0],[d]),Ee=o.useMemo(()=>{const j={};return R&&Object.keys(R).forEach(X=>{const B=R[X];B!==void 0&&(j[`--${$}-${X}-width`]=typeof B=="number"?`${B}px`:B)}),j},[R]);return fe(o.createElement(Ae,{form:!0,space:!0},o.createElement(He.Provider,{value:Oe},o.createElement(Ve,Object.assign({width:he},S,{zIndex:ye,getContainer:c===void 0?ue:c,prefixCls:$,rootClassName:N(_,t,Ce,V),footer:ve,visible:s??l,mousePosition:h??L,onClose:W,closable:q&&Object.assign({disabled:be,closeIcon:Q},pe),closeIcon:Q,focusTriggerAfterClose:r,transitionName:F(D,"zoom",e.transitionName),maskTransitionName:F(D,"fade",e.maskTransitionName),className:N(_,a,y==null?void 0:y.className),style:Object.assign(Object.assign(Object.assign({},y==null?void 0:y.style),v),Ee),classNames:Object.assign(Object.assign(Object.assign({},y==null?void 0:y.classNames),g),{wrapper:N(ge,g==null?void 0:g.wrapper)}),styles:Object.assign(Object.assign({},y==null?void 0:y.styles),O),panelRef:xe,destroyOnClose:w??M}),f?o.createElement(Xe,{active:!0,title:!1,paragraph:{rows:4},className:`${$}-body-skeleton`}):u))))},nt=e=>{const{componentCls:n,titleFontSize:a,titleLineHeight:t,modalConfirmIconSize:s,fontSize:i,lineHeight:C,modalTitleHeight:c,fontHeight:r,confirmBodyPadding:v}=e,l=`${n}-confirm`;return{[l]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${l}-body-wrapper`]:Object.assign({},we()),[`&${n} ${n}-body`]:{padding:v},[`${l}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:s,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(r).sub(s).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(c).sub(s).equal()).div(2).equal()}},[`${l}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${Z(e.marginSM)})`},[`${e.iconCls} + ${l}-paragraph`]:{maxWidth:`calc(100% - ${Z(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${l}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:a,lineHeight:t},[`${l}-content`]:{color:e.colorText,fontSize:i,lineHeight:C},[`${l}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${l}-error ${l}-body > ${e.iconCls}`]:{color:e.colorError},[`${l}-warning ${l}-body > ${e.iconCls},
        ${l}-confirm ${l}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${l}-info ${l}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${l}-success ${l}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},ot=Te(["Modal","confirm"],e=>{const n=_e(e);return[nt(n)]},qe,{order:-1e3});var lt=function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(a[t[s]]=e[t[s]]);return a};function st(e){const{prefixCls:n,icon:a,okText:t,cancelText:s,confirmPrefixCls:i,type:C,okCancel:c,footer:r,locale:v}=e,l=lt(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let d=a;if(!a&&a!==null)switch(C){case"info":d=o.createElement(Fe,null);break;case"success":d=o.createElement(Re,null);break;case"error":d=o.createElement(Be,null);break;default:d=o.createElement(Me,null)}const m=c??C==="confirm",g=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[O]=A("Modal"),u=v||O,f=t||(m?u==null?void 0:u.okText:u==null?void 0:u.justOkText),b=s||(u==null?void 0:u.cancelText),p=Object.assign({autoFocusButton:g,cancelTextLocale:b,okTextLocale:f,mergedOkCancel:m},l),h=o.useMemo(()=>p,T(Object.values(p))),P=o.createElement(o.Fragment,null,o.createElement(Y,null),o.createElement(U,null)),E=e.title!==void 0&&e.title!==null,w=`${i}-body`;return o.createElement("div",{className:`${i}-body-wrapper`},o.createElement("div",{className:N(w,{[`${w}-has-title`]:E})},d,o.createElement("div",{className:`${i}-paragraph`},E&&o.createElement("span",{className:`${i}-title`},e.title),o.createElement("div",{className:`${i}-content`},e.content))),r===void 0||typeof r=="function"?o.createElement(ae,{value:h},o.createElement("div",{className:`${i}-btns`},typeof r=="function"?r(P,{OkBtn:U,CancelBtn:Y}):P)):r,o.createElement(ot,{prefixCls:n}))}const at=e=>{const{close:n,zIndex:a,maskStyle:t,direction:s,prefixCls:i,wrapClassName:C,rootPrefixCls:c,bodyStyle:r,closable:v=!1,onConfirm:l,styles:d}=e,m=`${i}-confirm`,g=e.width||416,O=e.style||{},u=e.mask===void 0?!0:e.mask,f=e.maskClosable===void 0?!1:e.maskClosable,b=N(m,`${m}-${e.type}`,{[`${m}-rtl`]:s==="rtl"},e.className),[,p]=Ne(),h=o.useMemo(()=>a!==void 0?a:p.zIndexPopupBase+We,[a,p]);return o.createElement(tt,Object.assign({},e,{className:b,wrapClassName:N({[`${m}-centered`]:!!e.centered},C),onCancel:()=>{n==null||n({triggerCancel:!0}),l==null||l(!1)},title:"",footer:null,transitionName:F(c||"","zoom",e.transitionName),maskTransitionName:F(c||"","fade",e.maskTransitionName),mask:u,maskClosable:f,style:O,styles:Object.assign({body:r,mask:t},d),width:g,zIndex:h,closable:v}),o.createElement(st,Object.assign({},e,{confirmPrefixCls:m})))},re=e=>{const{rootPrefixCls:n,iconPrefixCls:a,direction:t,theme:s}=e;return o.createElement(oe,{prefixCls:n,iconPrefixCls:a,direction:t,theme:s},o.createElement(at,Object.assign({},e)))},I=[];let ce="";function ie(){return ce}const rt=e=>{var n,a;const{prefixCls:t,getContainer:s,direction:i}=e,C=ne(),c=o.useContext(z),r=ie()||c.getPrefixCls(),v=t||`${r}-modal`;let l=s;return l===!1&&(l=void 0),x.createElement(re,Object.assign({},e,{rootPrefixCls:r,prefixCls:v,iconPrefixCls:c.iconPrefixCls,theme:c.theme,direction:i??c.direction,locale:(a=(n=c.locale)===null||n===void 0?void 0:n.Modal)!==null&&a!==void 0?a:C,getContainer:l}))};function St(e){const n=Se(),a=document.createDocumentFragment();let t=Object.assign(Object.assign({},e),{close:r,open:!0}),s,i;function C(){for(var l,d=arguments.length,m=new Array(d),g=0;g<d;g++)m[g]=arguments[g];if(m.some(f=>f==null?void 0:f.triggerCancel)){var u;(l=e.onCancel)===null||l===void 0||(u=l).call.apply(u,[e,()=>{}].concat(T(m.slice(1))))}for(let f=0;f<I.length;f++)if(I[f]===r){I.splice(f,1);break}i()}function c(l){clearTimeout(s),s=setTimeout(()=>{const d=n.getPrefixCls(void 0,ie()),m=n.getIconPrefixCls(),g=n.getTheme(),O=x.createElement(rt,Object.assign({},l));i=Ie()(x.createElement(oe,{prefixCls:d,iconPrefixCls:m,theme:g},n.holderRender?n.holderRender(O):O),a)})}function r(){for(var l=arguments.length,d=new Array(l),m=0;m<l;m++)d[m]=arguments[m];t=Object.assign(Object.assign({},t),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),C.apply(this,d)}}),t.visible&&delete t.visible,c(t)}function v(l){typeof l=="function"?t=l(t):t=Object.assign(Object.assign({},t),l),c(t)}return c(t),I.push(r),{destroy:r,update:v}}function ct(e){return Object.assign(Object.assign({},e),{type:"warning"})}function it(e){return Object.assign(Object.assign({},e),{type:"info"})}function ut(e){return Object.assign(Object.assign({},e),{type:"success"})}function dt(e){return Object.assign(Object.assign({},e),{type:"error"})}function mt(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function It(e){let{rootPrefixCls:n}=e;ce=n}var ft=function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(a[t[s]]=e[t[s]]);return a};const Ct=(e,n)=>{var a,{afterClose:t,config:s}=e,i=ft(e,["afterClose","config"]);const[C,c]=o.useState(!0),[r,v]=o.useState(s),{direction:l,getPrefixCls:d}=o.useContext(z),m=d("modal"),g=d(),O=()=>{var p;t(),(p=r.afterClose)===null||p===void 0||p.call(r)},u=function(){var p;c(!1);for(var h=arguments.length,P=new Array(h),E=0;E<h;E++)P[E]=arguments[E];if(P.some(S=>S==null?void 0:S.triggerCancel)){var M;(p=r.onCancel)===null||p===void 0||(M=p).call.apply(M,[r,()=>{}].concat(T(P.slice(1))))}};o.useImperativeHandle(n,()=>({destroy:u,update:p=>{v(h=>Object.assign(Object.assign({},h),p))}}));const f=(a=r.okCancel)!==null&&a!==void 0?a:r.type==="confirm",[b]=A("Modal",ke.Modal);return o.createElement(re,Object.assign({prefixCls:m,rootPrefixCls:g},r,{close:u,open:C,afterClose:O,okText:r.okText||(f?b==null?void 0:b.okText:b==null?void 0:b.justOkText),direction:r.direction||l,cancelText:r.cancelText||(b==null?void 0:b.cancelText)},i))},gt=o.forwardRef(Ct);let ee=0;const vt=o.memo(o.forwardRef((e,n)=>{const[a,t]=Ge();return o.useImperativeHandle(n,()=>({patchElement:t}),[]),o.createElement(o.Fragment,null,a)}));function kt(){const e=o.useRef(null),[n,a]=o.useState([]);o.useEffect(()=>{n.length&&(T(n).forEach(C=>{C()}),a([]))},[n]);const t=o.useCallback(i=>function(c){var r;ee+=1;const v=o.createRef();let l;const d=new Promise(f=>{l=f});let m=!1,g;const O=o.createElement(gt,{key:`modal-${ee}`,config:i(c),ref:v,afterClose:()=>{g==null||g()},isSilent:()=>m,onConfirm:f=>{l(f)}});return g=(r=e.current)===null||r===void 0?void 0:r.patchElement(O),g&&I.push(g),{destroy:()=>{function f(){var b;(b=v.current)===null||b===void 0||b.destroy()}v.current?f():a(b=>[].concat(T(b),[f]))},update:f=>{function b(){var p;(p=v.current)===null||p===void 0||p.update(f)}v.current?b():a(p=>[].concat(T(p),[b]))},then:f=>(m=!0,d.then(f))}},[]);return[o.useMemo(()=>({info:t(it),success:t(ut),error:t(dt),warning:t(ct),confirm:t(mt)}),[]),o.createElement(vt,{key:"modal-holder",ref:e})]}export{st as C,Je as F,tt as M,ut as a,dt as b,St as c,mt as d,I as e,ct as f,It as m,Ue as r,kt as u,it as w};
