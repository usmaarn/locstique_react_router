import{w as u}from"./with-props-DEE0GO7A.js";import{r as l,z as d,j as t,L as a}from"./chunk-D4RADZKF-DaSNxZfm.js";import{O as p}from"./enums-C5TeptIY.js";import{c as i}from"./config-Y8BI0tot.js";import{R as c}from"./index-CHUY6mJi.js";import{B as m}from"./button-B_-uB0p2.js";import{I as x}from"./AntdIcon-D0-nQjfA.js";import{R as f}from"./ArrowRightOutlined-CtrHxEc2.js";import"./ExclamationCircleFilled-BBVgPxRh.js";import"./CloseCircleFilled-CWl1RwBe.js";import"./index-B7NgtD67.js";var h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"};function n(){return n=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])}return r},n.apply(this,arguments)}const g=(r,e)=>l.createElement(x,n({},r,{ref:e,icon:h})),j=l.forwardRef(g);async function L({request:r,serverLoader:e}){if(!localStorage.getItem(i.storage.cartName))return d("/shop");const s=await e();return s.paymentStatus===p.PENDING_DELIVERY&&localStorage.removeItem(i.storage.cartName),s}const _=u(function({loaderData:e}){return e.paymentStatus===p.PENDING_PAYMENT?t.jsx("div",{className:"p-5",children:t.jsx(c,{status:"error",title:"Payment Failed",subTitle:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos, dolores vitae nam eveniet odio asperiores",extra:t.jsx(a,{to:"/checkout",children:t.jsx(m,{danger:!0,icon:t.jsx(j,{}),type:"primary",children:"Retry"})})})}):t.jsx("div",{className:"p-5",children:t.jsx(c,{status:"success",title:"Payment Sucessful",subTitle:t.jsxs("div",{children:[t.jsxs("p",{className:"text-xs text-center mt-5 text-gray-500",children:["Your payment has been recieved and your order with ID:"," ",t.jsx(a,{to:`/orders/${e.txRef}`,className:"font-medium hover:underline",children:e.txRef})," ","is being processed."]}),t.jsxs("p",{className:"text-xs text-center mt-5 text-gray-500",children:[" ","Thank you for shopping with us."]})]}),extra:t.jsx(a,{to:"/shop",children:t.jsx(m,{icon:t.jsx(f,{}),iconPosition:"end",type:"primary",children:"Shop More"})})})})});export{L as clientLoader,_ as default};
