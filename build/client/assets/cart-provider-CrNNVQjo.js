import{r as i,j as x}from"./chunk-D4RADZKF-DaSNxZfm.js";import{c as m}from"./config-Y8BI0tot.js";import{s as l}from"./index-RXgHZzVA.js";const d=i.createContext({items:[],addItem:a=>{},removeItem:a=>{},updateItem:(a,s)=>{},clear:()=>{}});function S(){return i.useContext(d)}function N({children:a}){const[s,n]=i.useState([]),[c,u]=l.useMessage();function o(t){n(t),localStorage.setItem(m.storage.cartName,JSON.stringify(t))}function f(t){if(!s.find(e=>e.id===t.id)){const e={id:t.id,price:t.price,discount:t.discount,quantity:1,image:t.images[0],name:t.name};o([...s,e]),c.success("Item added to cart")}}function I(t){o(s.filter(r=>r.id!==t)),c.success("Item removed from cart")}function g(t,r){o(s.map(e=>e.id===t?{...e,quantity:r}:e))}return i.useEffect(()=>{const t=localStorage.getItem(m.storage.cartName);t&&n(JSON.parse(t))},[]),x.jsxs(d.Provider,{value:{items:s,addItem:f,removeItem:I,updateItem:g,clear:()=>o([])},children:[u,a]})}export{N as C,S as u};
